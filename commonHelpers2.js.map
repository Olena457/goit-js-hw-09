{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import validator from 'validator';\n\nconsole.log(\n  'Is mango@mail.com a valid email?: ',\n  validator.isEmail('mango@mail.com')\n);\nconsole.log(\n  'Is Mangodogmail.com a valid email?: ',\n  validator.isEmail('Mangodogmail.com')\n);\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\n\nform.addEventListener('input', onTextAreaInput);\nform.addEventListener('submit', onFormSubmit);\n\nlet dataUserForm = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};\nconst { email, message } = form.elements;\n\nfunction onTextAreaInput(e) {\n  dataUserForm = { email: email.value.trim(), message: message.value.trim() };\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(dataUserForm).trim());\n}\n\nfunction reoloadPage() {\n  if (dataUserForm) {\n    email.value = dataUserForm.email || '';\n    message.value = dataUserForm.message || '';\n  }\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  console.log({ email: email.value, message: message.value });\n\n  if (email.value === '' || message.value === '') {\n    return alert(`Будь ласка, заповніть всі поля`);\n  }\n\n  localStorage.removeItem(STORAGE_KEY);\n  e.currentTarget.reset();\n  dataUserForm = {};\n}\nreoloadPage();\n"],"names":["validator","STORAGE_KEY","form","onTextAreaInput","onFormSubmit","dataUserForm","email","message","e","reoloadPage"],"mappings":"oFAEA,QAAQ,IACN,qCACAA,EAAU,QAAQ,gBAAgB,CACpC,EACA,QAAQ,IACN,uCACAA,EAAU,QAAQ,kBAAkB,CACtC,EACA,MAAMC,EAAc,sBAEdC,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,QAASC,CAAe,EAC9CD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,IAAIC,EAAe,KAAK,MAAM,aAAa,QAAQJ,CAAW,CAAC,GAAK,GACpE,KAAM,CAAE,MAAAK,EAAO,QAAAC,GAAYL,EAAK,SAEhC,SAASC,EAAgBK,EAAG,CAC1BH,EAAe,CAAE,MAAOC,EAAM,MAAM,OAAQ,QAASC,EAAQ,MAAM,KAAM,CAAA,EACzE,aAAa,QAAQN,EAAa,KAAK,UAAUI,CAAY,EAAE,KAAI,CAAE,CACvE,CAEA,SAASI,GAAc,CACjBJ,IACFC,EAAM,MAAQD,EAAa,OAAS,GACpCE,EAAQ,MAAQF,EAAa,SAAW,GAE5C,CAEA,SAASD,EAAaI,EAAG,CAIvB,GAHAA,EAAE,eAAc,EAChB,QAAQ,IAAI,CAAE,MAAOF,EAAM,MAAO,QAASC,EAAQ,KAAK,CAAE,EAEtDD,EAAM,QAAU,IAAMC,EAAQ,QAAU,GAC1C,OAAO,MAAM,gCAAgC,EAG/C,aAAa,WAAWN,CAAW,EACnCO,EAAE,cAAc,QAChBH,EAAe,CAAA,CACjB,CACAI,EAAa"}