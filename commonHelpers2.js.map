{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import validator from 'validator';\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\n\nform.addEventListener('input', onTextAreaInput);\nform.addEventListener('submit', onFormSubmit);\n\nlet dataUserForm = JSON.parse(localStorage.getItem(STORAGE_KEY));\nconst { email, message } = form.elements;\n\nconst savedData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\nfunction reoloadPage() {\n  if (savedData) {\n    email.value = savedData.email || '';\n    message.value = savedData.message || '';\n    dataUserForm = savedData;\n  }\n}\n\nfunction onTextAreaInput(e) {\n  dataUserForm = { email: email.value, message: message.value };\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(dataUserForm));\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const trimmedEmail = email.value.trim();\n  const trimmedMessage = message.value.trim();\n\n  if (!trimmedEmail || !trimmedMessage) {\n    return alert(`Будь ласка, заповніть всі обов'язкові поля`);\n  }\n\n  if (!validator.isEmail(trimmedEmail)) {\n    return alert(`Будь ласка, введіть дійсну електронну адресу`);\n  }\n\n  console.log('email:', trimmedEmail, 'massage:', trimmedMessage);\n  localStorage.removeItem(STORAGE_KEY);\n  e.currentTarget.reset();\n  dataUserForm = {};\n}\nreoloadPage();\n"],"names":["STORAGE_KEY","form","onTextAreaInput","onFormSubmit","dataUserForm","email","message","savedData","reoloadPage","e","trimmedEmail","trimmedMessage","validator"],"mappings":"oFAEA,MAAMA,EAAc,sBAEdC,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,QAASC,CAAe,EAC9CD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,IAAIC,EAAe,KAAK,MAAM,aAAa,QAAQJ,CAAW,CAAC,EAC/D,KAAM,CAAE,MAAAK,EAAO,QAAAC,GAAYL,EAAK,SAE1BM,EAAY,KAAK,MAAM,aAAa,QAAQP,CAAW,CAAC,EAE9D,SAASQ,GAAc,CACjBD,IACFF,EAAM,MAAQE,EAAU,OAAS,GACjCD,EAAQ,MAAQC,EAAU,SAAW,GACrCH,EAAeG,EAEnB,CAEA,SAASL,EAAgBO,EAAG,CAC1BL,EAAe,CAAE,MAAOC,EAAM,MAAO,QAASC,EAAQ,OACtD,aAAa,QAAQN,EAAa,KAAK,UAAUI,CAAY,CAAC,CAChE,CAEA,SAASD,EAAaM,EAAG,CACvBA,EAAE,eAAc,EAChB,MAAMC,EAAeL,EAAM,MAAM,KAAI,EAC/BM,EAAiBL,EAAQ,MAAM,KAAI,EAEzC,GAAI,CAACI,GAAgB,CAACC,EACpB,OAAO,MAAM,4CAA4C,EAG3D,GAAI,CAACC,EAAU,QAAQF,CAAY,EACjC,OAAO,MAAM,8CAA8C,EAG7D,QAAQ,IAAI,SAAUA,EAAc,WAAYC,CAAc,EAC9D,aAAa,WAAWX,CAAW,EACnCS,EAAE,cAAc,QAChBL,EAAe,CAAA,CACjB,CACAI,EAAa"}